segformer:
  lit_wrapper: SegformerLitWrapper
  num_classes: 150
  ignore_index: 255
  loss:
    target: torch.nn.CrossEntropyLoss
    params:
      ignore_index: ${segformer.ignore_index}

  metrics:
    mean_iou:
      target: training.metrics.mean_iou
      params:
        num_classes: ${segformer.num_classes}
        ignore_index: ${segformer.ignore_index}
    pixel_accuracy:
      target: training.metrics.pixel_accuracy
      params:
        ignore_index: ${segformer.ignore_index}

  optimizer_defaults:
    lr: 1.0e-4
    weight_decay: 0.01
    betas: [0.9, 0.999]

  variants:
    b0:
      pretrained_name: nvidia/segformer-b0-finetuned-ade-512-512
      image_size: 512
    b2:
      pretrained_name: nvidia/segformer-b2-finetuned-ade-512-512
      image_size: 512
    b5:
      pretrained_name: nvidia/segformer-b5-finetuned-ade-640-640
      image_size: 640